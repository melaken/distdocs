<!DOCTYPE html>
<html lang="fr"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:p="http://primefaces.org/ui">
	<h:head>
<!-- 		<title>Insérer le titre ici</title> -->
		<h:outputStylesheet name="primeicons/primeicons.css" library="primefaces"/>
<!-- 		<h:outputStylesheet name="primefaces-omega/theme.css"/> -->
<!-- 		<h:outputStylesheet name="primefaces-nova-dark/theme.css"/> -->
<!-- 		<h:outputStylesheet name="primefaces-nova-light/theme.css"/> -->
<!-- 		<h:outputStylesheet name="primefaces-nova-colored/theme.css"/> -->
<!-- 		<h:outputStylesheet name="primefaces-luna-blue/theme.css"/> -->
<!-- 		<h:outputStylesheet name="primefaces-luna-pink/theme.css"/> -->
<!-- 		<h:outputStylesheet name="primefaces-luna-green/theme.css"/> -->
<!-- 		<h:outputStylesheet name="primefaces-luna-amber/theme.css"/> -->
<!-- 		<h:outputStylesheet name="components.css" library="primefaces"/> -->
		<style type="text/css">
		  .value {
/*         font-weight: bold; */
        font-size: 20px;
    }
       .pi {  
    width: 24px !important; 
    font-size: 24px !important; 

  }  
</style>
	</h:head>
<!-- 	<h:body> rendered="#{sessionScope['user'] != null}"-->
	
	<h:form>  
    <p:growl id="messages"/>
 	
 	<p:toolbar style="height:80px;font-size:13px">
        <f:facet name="left" style="margin-top:10px;">
        	<p:graphicImage name="images/modele.jpg" style="height:50px; width:50px;margin-top:10px;
       			border-radius: 5px;margin-left:10px;"/>
       		<p:inputText style="margin-left:30px;" placeholder="Rechercher..." />
          
        </f:facet>
        <f:facet name="right" style="margin-top:20px;margin-right:20px;">
        	<p:linkButton  id="inscription" value="	Inscription" rendered="#{sessionScope['user'] == null}" icon="pi pi-user-plus"
          	style="margin-right:10px;margin-top:20px;padding-left:10px;" 
          	outcome="/views/creation/creationUtilisateur.xhtml"/>
          	
           <p:linkButton id="editeur" value="Devenir Éditeur" rendered="#{sessionScope['user'] == null}" icon="pi pi-user-plus"
           	outcome="/views/creation/creationEditeur.xhtml" style="margin-right:10px;padding-left:10px"/>
           	
          <p:commandButton value="Connexion"  onclick="PF('dlg2').show();" icon="pi pi-sign-in"
        		rendered="#{sessionScope['user'] == null}" style="margin-right:10px;padding-left:10px" />
		
		<h:outputText value="Bienvenue #{sessionScope['user'].nom}" 
				 rendered="#{sessionScope['user'] != null}" style="margin-right:10px;"/>
				 
        <p:menuButton value="Mon profil" style="font-size:13px;margin-right:20px;margin-top:20px;padding-left:15px"
        	icon="pi pi-user" autoDisplay="true" rendered="#{sessionScope['user'] != null}">
        		
        		<p:menuitem value="	Publier" outcome="/views/creation/uploadDoc.xhtml" icon="pi pi-upload"
     				style="padding-left:10px" rendered="#{sessionScope['user'].userType == 'EDITEUR'}"/> 
    			<p:menuitem value="Ma bibliothèque" url="#" icon="pi pi-bookmark" style="padding-left:10px"/> 
     			<p:menuitem value="Mes transactions" url="#" icon="pi pi-money-bill" style="padding-left:10px"/>
     			<p:menuitem value="Paramètres" url="#" icon="pi pi-cog" style="padding-left:10px"/>
     			<p:separator /> 
     			<p:menuitem value="	Déconnexion" action="#{connexionBean.logout}" icon="pi pi-sign-out" style="padding-left:10px;"
     			rendered="#{sessionScope['user'] != null}" outcome="/index.html" update="@form"/> 
        </p:menuButton>
        </f:facet>
 
    </p:toolbar>
</h:form>
<p:dialog header=" " widgetVar="dlg2" modal="true" height="150" showEffect="explode" hideEffect="bounce"
	dynamic="true">
	    <h:form>
	    	<p:growl id="growl" showDetail="true" sticky="true" />
	    	<h:panelGrid columns="1" cellpadding="5" style="margin-bottom:10px">
	    		<h:panelGrid columns="2">
			        <h:outputLabel for="email" value="Email" style="font-weight:bold">
			        	<span class="requis">*</span>
					</h:outputLabel>
			        <p:inputText id="email" value="#{connexionBean.email}">
			        	<f:ajax event="blur" render="emailMessage" />
		<!-- 				<f:validator  binding="#{existenceEmailValidator}" /> -->
					</p:inputText>
				    <h:message id="emailMessage" for="email" errorClass="erreur" />
		    </h:panelGrid>
			    <h:panelGrid columns="2">
		        <h:outputLabel for="password" value="Mot de passe" style="font-weight:bold">
		        	<span class="requis">*</span>
				</h:outputLabel>
		        <p:password id="password" value="#{connexionBean.password}">
		        	<f:ajax event="blur" render="motDePasseMessage" />
				</p:password>
				<h:message id="motDePasseMessage" for="password" errorClass="erreur" />
		        
<!-- 	       <p:link value="Mot de passe oublié?" onclick="PF('dlg3').show();"/> -->
<!-- 			<p:commandButton value="Mot de passe oublié?" type="button" onclick="PF('dlg2').hide();PF('dlg3').show();" class="nav-link"/> -->
	    </h:panelGrid>
	    <p:commandButton value="Connexion" action="#{connexionBean.connect}" onclick="PF('dlg2').hide();"
	    	icon="pi pi-sign-in" style="padding-left:15px;" update="@form"/>
	     </h:panelGrid>
	</h:form>
	</p:dialog>
	
</html>