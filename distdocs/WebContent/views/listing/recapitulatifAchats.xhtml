<!DOCTYPE html>
<html lang="fr"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:p="http://primefaces.org/ui">
	<h:head>
		<title>Récapitulatif des achats</title>
	</h:head>
	<h:body>
		<ui:insert name = "nav" >
	      <ui:include src = "../../menuBar.xhtml" />
	   </ui:insert>
	   <p align="center">
   		<h2>Récapitulatif de la commande</h2>
	   </p>
	   <p:dataTable var="doc" value="#{panierBean.articles}" id="listeDocs" style="margin-top:10px"
	   	emptyMessage="Aucun article dans votre panier">
	    <p:column headerText="Article">
	        <p:lightBox styleClass="imagebox">  
              <p:graphicImage  value="#{listeDocsBean.image}" style="height: 300px; width: 200px;border-radius: 5px" > 
          		 <f:param name="id" value="#{doc.premiereCouverture}" />
           		</p:graphicImage> 
        	</p:lightBox>
	    </p:column>
	 
	    <p:column headerText="Prix">
	        <h:outputText value="#{doc.prix}	FCFA" />
	    </p:column>
	 
	    <p:column headerText=" ">
	    	<p:commandLink  title="Retirer cet article du panier" action="#{panierBean.supprimerDoc}" 
	    		update=":listeDocs :total">
	    		<f:param name="docId" value="#{doc.id}"/>
                <h:outputText styleClass="pi pi-trash" style="margin:0 auto;text-align:center;"/>
<!--                 <f:setPropertyActionListener value="#{doc}" target="#{listeDocsBean.selectedDoc}" /> -->
            </p:commandLink>
	    </p:column>
	</p:dataTable>
	<div align="center" style="font-weight:bold;margin-top:10px;margin-bottom:10px">
		<h:outputLabel value="Total : " />
		<h:outputText  id="total" value="#{panierBean.total()}	FCFA"/>
<!-- 		<p:separator /> -->
	</div>
	</h:body>
</html>