<!DOCTYPE html>
<html lang="en"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:p="http://primefaces.org/ui">
   <h:head>
   		<meta charset="utf-8" />
		<title>Poster un contenu</title>
		<h:outputStylesheet library="default" name="css/form.css" />
	</h:head>
	<h:body>
	    <ui:insert name = "nav" >
	      <ui:include src = "../../menuBar.xhtml" />
	   </ui:insert>
	   <div  align="center"> 
	 	<h:form enctype="multipart/form-data">
	 		 <h:panelGrid columns="2" style="margin-bottom:10px;" cellpadding="5">
	 		 <f:facet name="header">Informations sur le contenu à publier</f:facet>
	 		 	<h:outputLabel for="docType" value="Type de contenu à publier" style="font-weight:bold" />
		   			<p:selectOneMenu id="docType"  value="#{documentBean.doc.docType}" style="width:180px">
			            <f:selectItem itemLabel="MAGAZINE" itemValue="MAGAZINE" />
			            <f:selectItem itemLabel="JOURNAL" itemValue="JOURNAL" />
			            <f:selectItem itemLabel="LIVRE" itemValue="LIVRE" />
		        	</p:selectOneMenu>
		        <h:outputLabel for="prix" value="Prix" style="font-weight:bold" />
		        <p:inputText id="prix" value="#{documentBean.doc.prix}" />
		        <h:outputLabel for="date_parution" value="Date de parution" style="font-weight:bold" />
		        <p:calendar id="button" value="#{documentBean.dateParution}" showOn="button"  effect="fold"/>
		        <h:outputLabel for="numero_edition" value="Numéro édition" style="font-weight:bold" />
		        <p:inputText id="numero_edition" value="#{documentBean.doc.numeroEdition}" />
		        <h:outputLabel for="file" value="Contenu à publier" style="font-weight:bold" />
		        <h:inputFile  id="file"  mode="simple" skinSimple="true" value="#{documentBean.file}">
<!-- 					<f:ajax event="blur" render="fileMessage" /> -->
					<f:validator validatorId="fileValidator"/>
				</h:inputFile>
				<h:message id="fileMessage" for="file" errorClass="erreur" />
				<h:outputLabel for="cover" value="Image à afficher pour la publicité" style="font-weight:bold" />
		        <h:inputFile  id="cover"  mode="simple" skinSimple="true" value="#{documentBean.cover}">
<!-- 					<f:ajax event="blur" render="fileMessage" /> -->
<!-- 					<f:validator validatorId="fileValidator"/> -->
				</h:inputFile>
				<h:message id="coverMessage" for="cover" errorClass="erreur" />
<!-- 				<h:messages globalOnly="true" infoClass="info" /> -->
				<h:outputLabel for="resume" value="Résumé" style="font-weight:bold" />
		        <p:inputTextarea rows="6" cols="33" id="resume" value="#{documentBean.doc.resume}" />
				<f:facet name="footer" >
	   	    		<p:commandButton value="Publier"  icon="pi pi-cloud-upload" 
	   	    		align="center" ajax="false" action="#{documentBean.upload}" />
	   	    </f:facet>
	 		 </h:panelGrid>
	 	</h:form>
	 	</div>
	
	</h:body>
</html>